# ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹
# ç‰¹ç‚¹ï¼š
# 1. å…³é—­æ§åˆ¶å°è¾“å‡º
# 2. å¯ç”¨æ—¥å¿—åˆ†å‰²
# 3. é…ç½®å¤šçº§å‘Šè­¦
# 4. é‚®ä»¶é»˜è®¤ä¸å‘é€ï¼ˆalert_levels=nullï¼‰

logging:
  log_level: INFO
  log_dir: /var/log/myapp
  log_file: app.log
  rotation: 500 MB
  retention: 90 days
  compression: gz

  console_output: false      # ç”Ÿäº§ç¯å¢ƒå…³é—­æ§åˆ¶å°
  file_output: true
  auto_split: true           # å¯ç”¨æ—¥å¿—åˆ†å‰²

  enqueue: true
  backtrace: true
  diagnose: false            # ç”Ÿäº§ç¯å¢ƒå…³é—­è¯Šæ–­

  alert_strategy: priority   # ä½¿ç”¨ä¼˜å…ˆçº§ç­–ç•¥
  alert_retry: 3
  alert_retry_delay: 2.0

  notifiers:
    # ç¬¬1çº§ï¼šé‚®ä»¶ç»™é«˜ç®¡ï¼ˆé»˜è®¤ä¸å‘é€ï¼‰
    - type: email
      smtp_host: "smtp.company.com"
      smtp_port: 465
      smtp_user: "alert@company.com"
      smtp_password: "YOUR_PASSWORD"
      use_ssl: true
      to_addrs:
        - "ceo@company.com"
        - "cto@company.com"
      subject_prefix: "[ğŸš¨ç´§æ€¥ç”Ÿäº§å‘Šè­¦]"
      alert_levels: null       # ğŸ‘ˆ é»˜è®¤ä¸å‘é€ï¼Œåªåœ¨alert=Trueæ—¶å‘é€
      priority: 100

    # ç¬¬2çº§ï¼šä¼ä¸šå¾®ä¿¡ç»™å¼€å‘å›¢é˜Ÿ
    - type: weixin_app
      corpid: "wwxxx"
      corpsecret: "YOUR_SECRET"
      agentid: 1000002
      touser: "DevTeam"
      alert_levels:
        - ERROR
        - CRITICAL
      priority: 90

    # ç¬¬3çº§ï¼šé’‰é’‰ç»™æ‰€æœ‰ç›¸å…³äººå‘˜
    - type: dingtalk
      webhook: "https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN"
      secret: "YOUR_SECRET"
      at_mobiles:
        - "13800138000"
      alert_levels:
        - ERROR
        - CRITICAL
      priority: 80